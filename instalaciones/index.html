
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../arquitectura/">
      
      
        <link rel="next" href="../archivos_configuracion/">
      
      
      <link rel="icon" href="../img/logo_orange.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Instalaciones y configuraciones - Documentación Apparel Solutions S.A de C.V</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13.274 9.537zl-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074M4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5M4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75M8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.5 4.5 0 0 1-.563-1.191 3.84 3.84 0 0 1-.05-2.063 4.65 4.65 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .75.75 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.4 2.4 0 0 1-.507-.441 3.1 3.1 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19.01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.7 3.7 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13M6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6 6 0 0 0-.26.16 1 1 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1 1 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.61.61 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1 1 0 0 0-.34.398M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0M9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343za8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275M6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L6.94 8 4.97 6.03a.75.75 0 0 1 .018-1.042.75.75 0 0 1 1.042-.018"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005 0-.009.004"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.5 3.5 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327q0 .15-.025.292c.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5q-.002.615-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A5 5 0 0 1 8 16a5 5 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5 5 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.7 1.7 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06m.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.17.17 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5m4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5m0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5M2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../styles/styles.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#instalaciones-de-programas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Documentación Apparel Solutions S.A de C.V" class="md-header__button md-logo" aria-label="Documentación Apparel Solutions S.A de C.V" data-md-component="logo">
      
  <img src="../img/logo_orange.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentación Apparel Solutions S.A de C.V
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instalaciones y configuraciones
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Documentación Apparel Solutions S.A de C.V" class="md-nav__button md-logo" aria-label="Documentación Apparel Solutions S.A de C.V" data-md-component="logo">
      
  <img src="../img/logo_orange.png" alt="logo">

    </a>
    Documentación Apparel Solutions S.A de C.V
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guía
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../arquitectura/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelo de diseño de Software
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Instalaciones y configuraciones
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Instalaciones y configuraciones
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configurar-firewall-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      CONFIGURAR FIREWALL UFW
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONFIGURAR FIREWALL UFW">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-previos" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-utilizar-ipv6-con-ufw-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Utilizar IPv6 con UFW (opcional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-configurar-politicas-predeterminadas" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Configurar políticas predeterminadas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-habilitar-conexiones-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Habilitar conexiones SSH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-habilitar-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5: Habilitar UFW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-habilitar-otras-conexiones" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6: Habilitar otras conexiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 6: Habilitar otras conexiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#puertos-importantes" class="md-nav__link">
    <span class="md-ellipsis">
      Puertos importantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intervalos-de-puerto-especificos" class="md-nav__link">
    <span class="md-ellipsis">
      Intervalos de puerto específicos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direcciones-ip-especificas" class="md-nav__link">
    <span class="md-ellipsis">
      Direcciones IP específicas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-7-denegar-conexiones" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 7: Denegar conexiones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-8-eliminar-reglas" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 8: Eliminar reglas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 8: Eliminar reglas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#por-numero-de-regla" class="md-nav__link">
    <span class="md-ellipsis">
      Por número de regla
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#por-regla-real" class="md-nav__link">
    <span class="md-ellipsis">
      Por regla real
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-9-comprobar-el-estado-y-las-reglas-de-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 9: Comprobar el estado y las reglas de UFW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-10-deshabilitar-o-reiniciar-ufw-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 10: Deshabilitar o reiniciar UFW (opcional)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalar-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      INSTALAR MySQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INSTALAR MySQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisito-previos" class="md-nav__link">
    <span class="md-ellipsis">
      Requisito previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-myqsl" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar MyQSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-configurar-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Configurar MySQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-ajustar-la-autenticacion-y-privilegio-de-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Ajustar la autenticación y privilegio de usuario
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 3: Ajustar la autenticación y privilegio de usuario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-nuevo-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Crear nuevo usuario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-probar-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Probar MySQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Versión MySQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acceso-remoto-por-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      ACCESO REMOTO POR MySQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ACCESO REMOTO POR MySQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-abrir-el-archivo-de-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Abrir el archivo de configuración
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-reiniciar-el-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Reiniciar el servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-configurar-usuario-remoto" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Configurar usuario remoto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-conceder-permisos-a-un-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Conceder permisos a un usuario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalar-servidor-web-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      INSTALAR SERVIDOR WEB NGINX
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INSTALAR SERVIDOR WEB NGINX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisito-previos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Requisito previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar NGINX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-aplicar-ajuste-de-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Aplicar ajuste de firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-comprobar-el-servidor-web" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Comprobar el servidor web
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-configurar-bloques-de-servidores" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Configurar bloques de servidores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-familiarizarse-con-archivos-y-directorios-importantes" class="md-nav__link">
    <span class="md-ellipsis">
      paso 5: Familiarizarse con archivos y directorios importantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-archivos-de-configuracion-de-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6: Archivos de configuración de nginx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Versión nginx
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalar-certificados-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      INSTALAR CERTIFICADOS SSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INSTALAR CERTIFICADOS SSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-previos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-cerbot" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar cerbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-confirmar-la-configuracion-de-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Confirmar la configuración de nginx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-permitir-https-a-traves-de-cortafuegos" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Permitir HTTPS a través de cortafuegos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-obtener-certificado-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Obtener certificado SSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-renovacion-automatica-con-cerbot" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5: Renovación automática con Cerbot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-de-registros-dns" class="md-nav__link">
    <span class="md-ellipsis">
      CONFIGURACIÓN DE REGISTROS DNS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONFIGURACIÓN DE REGISTROS DNS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agregar-un-registro-a-en-un-dominio" class="md-nav__link">
    <span class="md-ellipsis">
      Agregar un registro A en un dominio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurar-servidor-ftp-vsftpd" class="md-nav__link">
    <span class="md-ellipsis">
      CONFIGURAR SERVIDOR FTP (VSFTPD)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONFIGURAR SERVIDOR FTP (VSFTPD)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisito-previos_2" class="md-nav__link">
    <span class="md-ellipsis">
      Requisito previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalacion" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: instalación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-abrir-cortafuegos" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Abrir cortafuegos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-crear-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Crear usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-restringir-directorio-a-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Restringir directorio a usuario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../archivos_configuracion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Archivos de configuración
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../comandos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comandos servidores
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../infraestructura/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infraestructura
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../base_de_datos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lenguaje de modelado UML
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../algoritmos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algoritmos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mantenimientos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mantenimientos de servidores
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configurar-firewall-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      CONFIGURAR FIREWALL UFW
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONFIGURAR FIREWALL UFW">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-previos" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-utilizar-ipv6-con-ufw-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Utilizar IPv6 con UFW (opcional)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-configurar-politicas-predeterminadas" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Configurar políticas predeterminadas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-habilitar-conexiones-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Habilitar conexiones SSH
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-habilitar-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5: Habilitar UFW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-habilitar-otras-conexiones" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6: Habilitar otras conexiones
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 6: Habilitar otras conexiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#puertos-importantes" class="md-nav__link">
    <span class="md-ellipsis">
      Puertos importantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intervalos-de-puerto-especificos" class="md-nav__link">
    <span class="md-ellipsis">
      Intervalos de puerto específicos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direcciones-ip-especificas" class="md-nav__link">
    <span class="md-ellipsis">
      Direcciones IP específicas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-7-denegar-conexiones" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 7: Denegar conexiones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-8-eliminar-reglas" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 8: Eliminar reglas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 8: Eliminar reglas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#por-numero-de-regla" class="md-nav__link">
    <span class="md-ellipsis">
      Por número de regla
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#por-regla-real" class="md-nav__link">
    <span class="md-ellipsis">
      Por regla real
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-9-comprobar-el-estado-y-las-reglas-de-ufw" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 9: Comprobar el estado y las reglas de UFW
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-10-deshabilitar-o-reiniciar-ufw-opcional" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 10: Deshabilitar o reiniciar UFW (opcional)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalar-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      INSTALAR MySQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INSTALAR MySQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisito-previos" class="md-nav__link">
    <span class="md-ellipsis">
      Requisito previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-myqsl" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar MyQSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-configurar-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Configurar MySQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-ajustar-la-autenticacion-y-privilegio-de-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Ajustar la autenticación y privilegio de usuario
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paso 3: Ajustar la autenticación y privilegio de usuario">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#crear-nuevo-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Crear nuevo usuario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-probar-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Probar MySQL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      Versión MySQL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acceso-remoto-por-mysql" class="md-nav__link">
    <span class="md-ellipsis">
      ACCESO REMOTO POR MySQL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ACCESO REMOTO POR MySQL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#paso-1-abrir-el-archivo-de-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Abrir el archivo de configuración
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-reiniciar-el-servidor" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Reiniciar el servidor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-configurar-usuario-remoto" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Configurar usuario remoto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-conceder-permisos-a-un-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Conceder permisos a un usuario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalar-servidor-web-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      INSTALAR SERVIDOR WEB NGINX
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INSTALAR SERVIDOR WEB NGINX">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisito-previos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Requisito previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar NGINX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-aplicar-ajuste-de-firewall" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Aplicar ajuste de firewall
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-comprobar-el-servidor-web" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Comprobar el servidor web
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-configurar-bloques-de-servidores" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Configurar bloques de servidores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-familiarizarse-con-archivos-y-directorios-importantes" class="md-nav__link">
    <span class="md-ellipsis">
      paso 5: Familiarizarse con archivos y directorios importantes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-6-archivos-de-configuracion-de-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 6: Archivos de configuración de nginx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Versión nginx
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instalar-certificados-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      INSTALAR CERTIFICADOS SSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="INSTALAR CERTIFICADOS SSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisitos-previos_1" class="md-nav__link">
    <span class="md-ellipsis">
      Requisitos previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalar-cerbot" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: Instalar cerbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-confirmar-la-configuracion-de-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Confirmar la configuración de nginx
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-permitir-https-a-traves-de-cortafuegos" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Permitir HTTPS a través de cortafuegos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-obtener-certificado-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Obtener certificado SSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-5-renovacion-automatica-con-cerbot" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 5: Renovación automática con Cerbot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-de-registros-dns" class="md-nav__link">
    <span class="md-ellipsis">
      CONFIGURACIÓN DE REGISTROS DNS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONFIGURACIÓN DE REGISTROS DNS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agregar-un-registro-a-en-un-dominio" class="md-nav__link">
    <span class="md-ellipsis">
      Agregar un registro A en un dominio
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configurar-servidor-ftp-vsftpd" class="md-nav__link">
    <span class="md-ellipsis">
      CONFIGURAR SERVIDOR FTP (VSFTPD)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CONFIGURAR SERVIDOR FTP (VSFTPD)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requisito-previos_2" class="md-nav__link">
    <span class="md-ellipsis">
      Requisito previos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-1-instalacion" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 1: instalación
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-2-abrir-cortafuegos" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 2: Abrir cortafuegos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-3-crear-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 3: Crear usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paso-4-restringir-directorio-a-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Paso 4: Restringir directorio a usuario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="instalaciones-de-programas">Instalaciones de programas</h1>
<hr />
<h2 id="configurar-firewall-ufw">CONFIGURAR FIREWALL UFW</h2>
<h3 id="requisitos-previos">Requisitos previos</h3>
<p>Para este programa se nesesitará lo siguiente:</p>
<ul>
<li>Un servidor de Ubuntu 18.04/20.04 con un non-root user sudo, que se puede configurar con el siguiente tutorial: <a href="http:doc.tkontrol.com">Configuracion inicial para servidores Ubuntu 18.4/20.04</a></li>
</ul>
<h3 id="paso-1-instalar-firewall">Paso 1: Instalar firewall</h3>
<p>UFW ya viene instalado en el sistema operativo de ubuntu, si se desinstalo por alguna razón, se puede volver a instalar ejecutando el siguiente comando</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ufw2
</code></pre></div>
<h3 id="paso-2-utilizar-ipv6-con-ufw-opcional">Paso 2: Utilizar IPv6 con UFW (opcional)</h3>
<p>Si se desea, se puede activar IPv6; compruebe que que IPv6 este habilitado de modo que pueda administrar las reglas, para ello vamos a ocupar el editor <code>nano</code> o su editor favorito, ejecutamos el siguiente comando.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/default/ufw
</code></pre></div>
<p>A continuación, asegúrese de que el valor de <code>IPV6</code> sea <code>yes</code>. La Salida debería tener el siguiente aspecto:</p>
<div class="highlight"><pre><span></span><code><span class="go">IPV6=yes</span>
</code></pre></div>
<p>Guarde <code>(Ctrl+s)</code> y cierre el archivo <code>(Ctrl+z)</code>. Cuando UFW esté habilitado, se configurará para escribir reglas de firewall de IPv4 y IPv6. Sin embargo, antes de habilitar UFW, nos convendrá comprobar que su firewall esté configurado para que pueda conectarse a través de SSH. Empezaremos con la configuración de las políticas predeterminadas.</p>
<h3 id="paso-3-configurar-politicas-predeterminadas">Paso 3: Configurar políticas predeterminadas</h3>
<p>Estas reglas controlan la administración del tráfico que no coincida de forma explícita con otras reglas. Por defecto, UFW está configurado para denegar todas las conexiones entrantes y permitir todas las conexiones salientes. Esto significa que quien intente llegar a su servidor no podrá conectarse, mientras que cualquier aplicación dentro del servidor podría llegar al mundo exterior.</p>
<p>podemos restablecer los valores predeterminado de las reglas de UFW, ejecutando los siguentes comando</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>default<span class="w"> </span>deny<span class="w"> </span>incoming
</code></pre></div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>default<span class="w"> </span>allow<span class="w"> </span>outgoing
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Atención</p>
<p>Establecen los valores predeterminados para denegar las conexiones entrantes y permitir las salientes. Con solo estos valores predeterminados de firewall podría bastar para una computadora personal, pero normalmente los servidores deben responder a las solicitudes de usuarios externos</p>
</div>
<h3 id="paso-4-habilitar-conexiones-ssh">Paso 4: Habilitar conexiones SSH</h3>
<p>Si habilitamos nuestro firewall de UFW ahora, denegaría todas las conexiones entrantes. Esto significa que deberemos crear reglas que permitan explícitamente las conexiones entrantes legítimas (SSH o HTTP, por ejemplo) si queremos que nuestro servidor responda a estos tipos de solicitudes. Si utiliza un servidor en nube, probablemente le convenga permitir las conexiones SSH entrantes para poder conectarse y administrar su servidor.</p>
<p>Para configurar el servidor de modo que permita conexiones entrante, se debe de ejecutar el siguiente comando.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span>ssh
</code></pre></div>
<p>Esto creará reglas de firewall que permitirán todas las conexiones en el puerto <code>22</code>, que es el que escucha el demonio SSH por defecto. UFW registra el significado del puerto <code>allow</code> ssh porque está enumerado como servicio en el archivo <code>/etc/services.</code></p>
<p>Ahora que su firewall está configurado para permitir las conexiones SSH entrantes, podemos habilitarlo.</p>
<h3 id="paso-5-habilitar-ufw">Paso 5: Habilitar UFW</h3>
<p>Vamos habilitar UFW, para hacer esto vamos a ejecutar el siguiente comando: </p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span><span class="nb">enable</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Atención</p>
<p>Recibirá una advertencia que indicará que el comando puede interrumpir las conexiones SSH existentes. Ya configuramos una regla de firewall que permite conexiones SSH. Debería ser posible continuar sin inconvenientes. Responda a la solicitud con <code>y</code> y presione <code>ENTER</code>.</p>
</div>
<p>Con esto, el firewall quedará activo. Ejecute el comando:</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status<span class="w"> </span>verbose<span class="w"> </span>
</code></pre></div>
Para ver las reglas que se configuran. En el resto de esta documentación se abarca en mayor profundidad la forma de utilizar UFW. Se analizarán opciones como las de permitir o denegar diferentes tipos de conexiones.</p>
<h3 id="paso-6-habilitar-otras-conexiones">Paso 6: Habilitar otras conexiones</h3>
<h4 id="puertos-importantes">Puertos importantes</h4>
<p>en UFW se pueden habilitar otros puertos para establecer conexión, vamos habilitar el puerto <code>80</code> que es donde se conectan las aplicaciones web y en fundamental tenerlo habilitado</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> HTTP en el puerto 80, que es lo que utilizan los servidores web no cifrados, ejecute el siguiente comando:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">80</span>
</code></pre></div></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> HTTPS en el puerto 443, que es lo que utilizan los servidores web cifrados, ejeute el siguiente comando:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">443</span>
</code></pre></div></li>
</ul>
<h4 id="intervalos-de-puerto-especificos">Intervalos de puerto específicos</h4>
<p>Puede especificar intervalos de puerto con UFW. Algunas aplicaciones utilizan varios puertos en vez de uno solo. Ejemplo de uso de habilitación de puertos por intervalo es como se muestra en el siguiente comando.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">6000</span>:6007/tcp
</code></pre></div>
<p>Cuando se especifiquen intervalos de puerto con UFW, debe especificar el protocolo (tcp o udp) a los que deberían aplicarse las reglas. No lo mencionamos antes porque cuando no se especifica el protocolo se permiten ambos de forma automática, lo cual está bien en la mayoría de los casos.</p>
<h4 id="direcciones-ip-especificas">Direcciones IP específicas</h4>
<p>Al trabajar con UFW, también puede especificar direcciones IP. Por ejemplo, si desea permitir las conexiones desde una dirección IP específica, como una dirección IP de trabajo o doméstica 203.0.113.4, debe especificar from y luego la dirección IP:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span>from<span class="w"> </span><span class="m">203</span>.0.113.4
</code></pre></div>
<p>También puede especificar un puerto concreto al que la dirección IP pueda conectarse agregando to any port seguido del número de este. Por ejemplo, si desea permitir que <code>203.0.113.4</code> se conecte al puerto <code>22</code> (SSH), utilice este comando:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span>from<span class="w"> </span><span class="m">203</span>.0.113.4<span class="w"> </span>to<span class="w"> </span>any<span class="w"> </span>port<span class="w"> </span><span class="m">22</span>
</code></pre></div>
<h3 id="paso-7-denegar-conexiones">Paso 7: Denegar conexiones</h3>
<p>Si no ha cambiado la política predeterminada para las conexiones entrantes, UFW está configurado para denegarlas todas. Generalmente, esto simplifica el proceso de creación de una política de firewall segura al exigirle crear reglas que permitan de forma explícita el acceso de puertos específicos y direcciones IP.</p>
<p>Sin embargo, a veces le convendrá denegar conexiones específicas basadas en la dirección IP o subred de origen, quizás por saber que su servidor recibe ataques desde ellas. Además, si desea cambiar su política entrante predeterminada para allow (no lo recomendamos), debería crear reglas deny para cualquier servicio o dirección IP cuyas conexiones no desee permitir.</p>
<p>Para escribir reglas de <code>deny</code>, puede utilizar los comandos descritos anteriormente y sustituir <code>allow</code> por <code>deny</code>.</p>
<p>Por ejemplo, para denegar conexiones HTTP, podría utilizar este comando:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>deny<span class="w"> </span>http
</code></pre></div>
<p>A su vez, si desea denegar todas las conexiones de 203.0.113.4 podría utilizar este comando:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>deny<span class="w"> </span>from<span class="w"> </span><span class="m">203</span>.0.113.4
</code></pre></div>
<h3 id="paso-8-eliminar-reglas">Paso 8: Eliminar reglas</h3>
<p>Existen dos maneras diferentes de especificar las reglas que se eliminarán: por número de regla o por regla real (se asemejan a la forma en que las reglas se especifican al crearse). Comenzaremos con el método de eliminación por el número de regla porque es más sencillo.</p>
<h4 id="por-numero-de-regla">Por número de regla</h4>
<p>Si utiliza el número de regla para eliminar reglas de firewall, lo primero que le convendrá hacer es obtener una lista de reglas de firewall. El comando “UFW status” tiene una opción para mostrar números junto a cada regla, como se muestra aquí:</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status<span class="w"> </span>numbered
</code></pre></div>
Salida:
<div class="highlight"><pre><span></span><code><span class="go">Status: active</span>

<span class="go">     To                         Action      From</span>
<span class="go">     --                         ------      ----</span>
<span class="go">[ 1] 22                         ALLOW IN    15.15.15.0/24</span>
<span class="go">[ 2] 80                         ALLOW IN    Anywhere</span>
</code></pre></div></p>
<p>Si decidimos eliminar la regla 2, que permite las conexiones del puerto 80 (HTTP), podemos especificarlo en un comando “UFW delete”como este:</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>delete<span class="w"> </span><span class="m">2</span>
</code></pre></div>
Esto mostraría un mensaje de confirmación y eliminaría la regla 2, que permite conexiones HTTP. Tenga en cuenta que si tiene IPv6 habilitado, le convendría eliminar también la regla IPv6 correspondiente.</p>
<h4 id="por-regla-real">Por regla real</h4>
<p>La alternativa a números de regla es especificar la regla real que se eliminará. Por ejemplo, si desea eliminar la regla <code>allow http</code>, podría escribir lo siguiente:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>delete<span class="w"> </span>allow<span class="w"> </span>http
</code></pre></div>
<p>También podría especificar la regla mediante <code>allow 80</code> en vez de hacerlo por nombre de servicio:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>delete<span class="w"> </span>allow<span class="w"> </span><span class="m">80</span>
</code></pre></div>
<p>Este método eliminará las reglas IPv4 y IPv6, si existen.</p>
<h3 id="paso-9-comprobar-el-estado-y-las-reglas-de-ufw">Paso 9: Comprobar el estado y las reglas de UFW</h3>
<p>En cualquier momento, puede verificar el estado de UFW con este comando:</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status<span class="w"> </span>verbose
</code></pre></div>
Si UFW está desactivado, lo cual se aplica por defecto, verá algo como esto:</p>
<div class="highlight"><pre><span></span><code><span class="go">Status: inactive</span>
</code></pre></div>
<p>Si UFW esta activado deberia de ver una salida similar a la siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="go">Status: active</span>
<span class="go">Logging: on (low)</span>
<span class="go">Default: deny (incoming), allow (outgoing), disabled (routed)</span>
<span class="go">New profiles: skip</span>

<span class="go">To                         Action      From</span>
<span class="go">--                         ------      ----</span>
<span class="hll"><span class="go">22/tcp                     ALLOW IN    Anywhere</span>
</span></code></pre></div>
<p>el siguiente comando sirve para ver el estado y configuracion de UFW</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</code></pre></div>
<h3 id="paso-10-deshabilitar-o-reiniciar-ufw-opcional">Paso 10: Deshabilitar o reiniciar UFW (opcional)</h3>
<p>Si decide que no desea utilizar UFW, puede desactivarlo con este comando:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>disable
</code></pre></div>
Cualquier regla que haya creado con UFW dejará de estar activa. Siempre puede ejecutar sudo ufw enable si necesita activarla más adelante.</p>
<p>Si ya tiene reglas de UFW configuradas y decide que desea empezar de nuevo, puede utilizar el comando “reset”:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>reset
</code></pre></div></p>
<p>Esto desactivará UFW y eliminará cualquier regla definida anteriormente. Tenga en cuenta que los ajustes originales de las políticas predeterminadas no se restablecerán si las modificó en algún momento. Esto debería permitirle empezar de nuevo con UFW.</p>
<h2 id="instalar-mysql">INSTALAR MySQL</h2>
<h3 id="requisito-previos">Requisito previos</h3>
<p>Para la instalación del servidor de MySQL se nesesitará lo siguiente:</p>
<ul>
<li>Un servidor Ubuntu 18.04/20.04 configurado siguiendo esta guía de <a href="http://localhost:8000">configuración inicial para servidores ubuntu 18.04/20.04</a>, incluyendo un usuario <code>no root</code> con privilegios de <code>sudo</code> y un <code>firewall</code>.</li>
</ul>
<h3 id="paso-1-instalar-myqsl">Paso 1: Instalar MyQSL</h3>
<p>Instalar el indice del paquete en el servidor, ejecutando el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
</code></pre></div>
<p>Despues instalaremos el paquete determinado.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mysql-server
</code></pre></div>
<p>Con este comando se instalará el servidor MySQL</p>
<div class="admonition info">
<p class="admonition-title">Nota</p>
<p>Con esta instalación no le pedirá que cree una contraseña ni que realice otro cambios de configuración, deje todo por defecto, posteriormente se modificará algunos archivos de configuración.</p>
</div>
<h3 id="paso-2-configurar-mysql">Paso 2: Configurar MySQL</h3>
<p>Ejecutaremos el siguiente comando de seguridad:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mysql_secure_installation
</code></pre></div>
<p>Esto hará que pase por una serie de indicaciones en las que puede hacer algunos cambios en las opciones de seguridad de su instalación de MySQL. </p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> La primera indicación le preguntará si quiere configurar el plugin de Validación de Contraseña, la que puede usarse para probar la solidez de su contraseña de MySQL. </li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Independientemente de lo que haya seleccionado, la siguiente indicación será establecer una contraseña para el usuario root de MySQL. Ingrese y luego confirme una contraseña segura de su elección.</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Desde este punto, puede presionar <code>Y</code> y luego <code>ENTER</code> para aceptar las configuraciones predeterminadas para todas las preguntas siguientes. Esto eliminará algunos usuarios anónimos y la base de datos de prueba, deshabilitará los inicios de sesión root remotos y cargará estas nuevas reglas para que MySQL respete los cambios que haya realizado inmediatamente.</li>
</ul>
<p>Para iniciar el directorio de datos de MySQL, debe usar <code>mysql_install_db</code> para versiones anteriores a 5.7.6, y <code>mysqld --initialize</code> para la versión5.7.6 y posteriores. Si trata de ejecutar el comando igual, se le mostrará el siguiente error:</p>
<div class="highlight"><pre><span></span><code><span class="go">mysqld: Can&#39;t create directory &#39;/var/lib/mysql/&#39; (Errcode: 17 - File exists)</span>
<span class="go">. . .</span>
<span class="go">2018-04-23T13:48:00.572066Z 0 [ERROR] Aborting</span>
</code></pre></div>
<p>Aunque se haya establecido una contraseña para el usuario <strong>root</strong> de MySQL, este no esta configurado para autenticarse con una contraseña al conectarse al shell de MySQL.</p>
<h3 id="paso-3-ajustar-la-autenticacion-y-privilegio-de-usuario">Paso 3: Ajustar la autenticación y privilegio de usuario</h3>
<p>Para los sistemas Ubuntu que estén usando MySQL 5.7 (y las versiones posteriores), el usuario root de MySQL está configurado, de forma predeterminada, para autenticarse usando el plugin auth_socket en vez de una contraseña. En muchos casos, esto permite que la seguridad y usabilidad sea mayor pero también puede complicar las cosas cuando deba permitir que un programa externo (tal como phpMyAdmin) tenga acceso al usuario.</p>
<p>Deberá cambiar su método de autenticación de <code>auth_socket</code> a <code>mysql_native_password</code> para usar una contraseña para conectarse a MySQL como root. Para hacerlo, abra la indicación de MySQL desde su terminal:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mysql
</code></pre></div>
<p>Posteriormente, consulte cuál método de autenticación usa cada una de sus cuentas de usuario de MySQL usando el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>SELECT<span class="w"> </span>user,authentication_string,plugin,host<span class="w"> </span>FROM<span class="w"> </span>mysql.user<span class="p">;</span>
</code></pre></div>
<p>La salida seria de la siguiente manera:</p>
<div class="highlight"><pre><span></span><code><span class="go">mysql&gt; SELECT user,authentication_string,plugin,host FROM mysql.user;</span>

<span class="go">+------------------+-------------------------------------------+-----------------------+-----------+</span>
<span class="go">| user             | authentication_string                     | plugin                | host      |</span>
<span class="go">+------------------+-------------------------------------------+-----------------------+-----------+</span>
<span class="hll"><span class="go">| root             |                                           | auth_socket           | localhost |</span>
</span><span class="go">| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span>
<span class="go">| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span>
<span class="go">| debian-sys-maint | *CC744277A401A7D25BE1CA89AFF17BF607F876FF | mysql_native_password | localhost |</span>
<span class="go">+------------------+-------------------------------------------+-----------------------+-----------+</span>
<span class="go">4 rows in set (0.00 sec)</span>
</code></pre></div>
<p>Se puede ver que <strong>root</strong> está con el plugin <code>auth_socket</code></p>
<div class="admonition warning">
<p class="admonition-title">Atención</p>
<p>Para configurar la cuenta <strong>root</strong> para autenticarse usando una contraseña, ejecute el siguiente comando <code>ALTER USER</code>. Asegúrese de cambiar password (contraseña) a una contraseña segura de su elección y sepa que este comando cambiará la contraseña de root que estableció en el <strong>Paso 2</strong>:</p>
</div>
<p><div class="highlight"><pre><span></span><code>ALTER<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;root&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="w"> </span>IDENTIFIED<span class="w"> </span>WITH<span class="w"> </span>mysql_native_password<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;password&#39;</span><span class="p">;</span>
</code></pre></div>
Luego, ejecute FLUSH PRIVILEGES (purgar privilegios), lo que le dice al servidor que vuelva a cargar las tablas grant e implemente sus nuevos cambios:</p>
<div class="highlight"><pre><span></span><code>FLUSH<span class="w"> </span>PRIVILEGES<span class="p">;</span>
</code></pre></div>
<p>Volvemos a verificar la autenticación del usuario <strong>root</strong></p>
<div class="highlight"><pre><span></span><code>SELECT<span class="w"> </span>user,authentication_string,plugin,host<span class="w"> </span>FROM<span class="w"> </span>mysql.user<span class="p">;</span>
</code></pre></div>
<p>Su salida debe de ser como se muestra a continuación</p>
<div class="highlight"><pre><span></span><code><span class="go">mysql&gt; SELECT user,authentication_string,plugin,host FROM mysql.user;</span>

<span class="go">+------------------+-------------------------------------------+-----------------------+-----------+</span>
<span class="go">| user             | authentication_string                     | plugin                | host      |</span>
<span class="go">+------------------+-------------------------------------------+-----------------------+-----------+</span>
<span class="hll"><span class="go">| root             |                                           | mysql_native_password | localhost |</span>
</span><span class="go">| mysql.session    | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span>
<span class="go">| mysql.sys        | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |</span>
<span class="go">| debian-sys-maint | *CC744277A401A7D25BE1CA89AFF17BF607F876FF | mysql_native_password | localhost |</span>
<span class="go">+------------------+-------------------------------------------+-----------------------+-----------+</span>
<span class="go">4 rows in set (0.00 sec)</span>
</code></pre></div>
<p>Una vez que confirme esto en su propio servidor, puede salir del shell de MySQL:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h4 id="crear-nuevo-usuario">Crear nuevo usuario</h4>
<p>Alternativamente, para otras personas puede adaptarse mejor a su flujo de trabajo si se conectan a MySQL con un usuario dedicado. Para crear tal usuario, vuelva a abrir el shell de MySQL nuevamente:</p>
<div class="admonition info">
<p class="admonition-title">Nota</p>
<p>Si tiene la autenticación de contraseña habilitada para root según se describió en los párrafos de arriba, deberá usar un comando diferente para acceder al shell de MySQL. Lo que se indica a continuación ejecutará su cliente MySQL con privilegios de usuario regular, y solamente tendrá privilegios de administrador dentro de la base de datos una vez que haga la autenticación:</p>
</div>
<div class="highlight"><pre><span></span><code>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p
</code></pre></div>
<p>Apartir de aqui vamos a crear el nuevo usuario</p>
<div class="highlight"><pre><span></span><code>CREATE<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;nombre_de_usuario&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="w"> </span>IDENTIFIED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;contraseña&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Ahora vamos a darle los privilegios adecuados para conceder persmiso de las tablas de una base de datos, así como autoridad para agregar, cambiar y eliminar privilegios de usuario, mediante este comando:</p>
<div class="highlight"><pre><span></span><code>GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>*.*<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;nombre_de_usuario&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="w"> </span>WITH<span class="w"> </span>GRANT<span class="w"> </span>OPTION<span class="p">;</span>
</code></pre></div>
<p>Note que, en este punto, no necesita volver a ejecutar el comando <code>FLUSH PRIVILEGES</code>. Solamente necesita este comando al modificar las tablas grant utilizando declaraciones como <code>INSERT</code>, <code>UPDATE</code> o <code>DELETE</code>. Dado a que creó un usuario nuevo en vez de modificar uno existente, no es necesario que use <code>FLUSH PRIVILEGES</code> aquí.</p>
<p>Salimos del shell de MySQL</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h3 id="paso-4-probar-mysql">Paso 4: Probar MySQL</h3>
<p>Para ver el estado del servidor de MySQL podemos utilizar el siguiente comando</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>status<span class="w"> </span>mysql.service
</code></pre></div>
<p>La Salida debe ser similar a la siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="go"> mysql.service - MySQL Community Server</span>
<span class="go">   Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: en</span>
<span class="go">   Active: active (running) since Wed 2018-04-23 21:21:25 UTC; 30min ago</span>
<span class="go"> Main PID: 3754 (mysqld)</span>
<span class="go">    Tasks: 28</span>
<span class="go">   Memory: 142.3M</span>
<span class="go">      CPU: 1.994s</span>
<span class="go">   CGroup: /system.slice/mysql.service</span>
<span class="go">           └─3754 /usr/sbin/mysqld</span>
</code></pre></div>
<p>Si MySQL no se está ejecutando se puede utilizar el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>mysql
</code></pre></div>
<h3 id="version-mysql">Versión MySQL</h3>
<div class="admonition info">
<p class="admonition-title">Versión servidor #1</p>
<p>La versión de Servidor de MyQSL instalado en el Droplets (Servidor #1) es la <strong>5.7.35</strong> </p>
</div>
<div class="admonition info">
<p class="admonition-title">Versión servidor #2</p>
<p>La versión de Servidor de MyQSL instalado en el Droplets (Servidor #2) es la <strong>8.0.22</strong> </p>
</div>
<h2 id="acceso-remoto-por-mysql">ACCESO REMOTO POR MySQL</h2>
<p>En los siguientes pasos se configurará a MySQL para establecer conexiones remota, ya que la configuración que se realizó en el tema anterior de <a href="http://localhost:800">Instalar MySQL</a> solo está configurada para escuchar conexiones locales. Esta es la configuración predeterminada de MySQL, pero no funcionará para una configuración de base de datos remota, ya que MySQL debe poder escuchar una dirección IP externa donde se pueda acceder al servidor. Para habilitar esto, abra su <code>mysqld.cnfarchivo</code>:</p>
<h3 id="paso-1-abrir-el-archivo-de-configuracion">Paso 1: Abrir el archivo de configuración</h3>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/mysql/mysql.conf.d/mysqld.cnf
</code></pre></div>
<p>Navegar hasta la linea que comienza con <code>bind-address</code> directiva:</p>
<div class="highlight"><pre><span></span><code>.<span class="w"> </span>.<span class="w"> </span>.
lc-messages-dir<span class="w"> </span><span class="o">=</span><span class="w"> </span>/usr/share/mysql
skip-external-locking
<span class="c1">#</span>
<span class="c1"># Instead of skip-networking the default is now to listen only on</span>
<span class="c1"># localhost which is more compatible and is not less secure.</span>
<span class="hll">bind-address<span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">127</span>.0.0.1
</span>.<span class="w"> </span>.<span class="w"> </span>.
</code></pre></div>
<p>De forma predeterminada, este valor se establece en 127.0.0.1, lo que significa que el servidor solo buscará conexiones locales. Se deberá cambiar esta directiva para hacer referencia a una dirección IP externa. Para cambiar la directiva a una dirección IP se usará comodín, ya sea <code>*</code>, <code>::</code> o <code>0.0.0.0</code>, Adicional a ello vamos a comentar otra linea para que se pueda acceder de forma remota, la linea a comentar con un comodin será la siguiente <code>skip-external-locking</code> </p>
<div class="highlight"><pre><span></span><code>.<span class="w"> </span>.<span class="w"> </span>.
lc-messages-dir<span class="w"> </span><span class="o">=</span><span class="w"> </span>/usr/share/mysql
<span class="c1"># skip-external-locking</span>
<span class="c1">#</span>
<span class="c1"># Instead of skip-networking the default is now to listen only on</span>
<span class="c1"># localhost which is more compatible and is not less secure.</span>
<span class="hll">bind-address<span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0.0.0
</span>.<span class="w"> </span>.<span class="w"> </span>.
</code></pre></div>
<p>Despues de cambiar esa linea se procederá a guardar los cambios (Ctrl + s) y cerrar (Ctrl + x).</p>
<h3 id="paso-2-reiniciar-el-servidor">Paso 2:  Reiniciar el servidor</h3>
<p>Luego se reiniciará el servicio MySQL para poner mysqld.cnfen vigencia los cambios que se realizó:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>mysql
</code></pre></div>
<h3 id="paso-3-configurar-usuario-remoto">Paso 3: Configurar usuario remoto</h3>
<p>Para conectarse a la base de datos desde un HOST remoto, se deberá configurar una cuenta o un usuario para que aceptes las conexiones fuera de <code>localhost</code> para ello vamos a iniciar sesión desde la <strong>terminal</strong> de ubuntu</p>
<div class="highlight"><pre><span></span><code>mysql<span class="w"> </span>-u<span class="w"> </span>root<span class="w"> </span>-p
</code></pre></div>
<p>Para cambiar el host de un usuario, se puede usar el <code>RENAME USER</code> comando de MySQL . Ejecute el siguiente comando, asegurándose de cambiar <code>nombre_usuario</code> el nombre de su cuenta de usuario de MySQL y <code>remote_server_ip</code> la dirección IP de su servidor remoto:</p>
<div class="highlight"><pre><span></span><code>RENAME<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span>@<span class="s1">&#39;localhost&#39;</span><span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span>@<span class="s1">&#39;remote_server_ip&#39;</span><span class="p">;</span>
</code></pre></div>
<p>Alternativamente, se puede crear una nueva cuenta de usuario que solo se conectará desde el host remoto con el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>CREATE<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span>@<span class="s1">&#39;remote_server_ip&#39;</span><span class="w"> </span>IDENTIFIED<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;password&#39;</span><span class="p">;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Este comando creará un usuario que se autentica con el plugin de autenticación por defecto de MySQL, <code>caching_sha2_password</code>. Sin embargo, existe un problema conocido con algunas versiones de PHP que puede causar problemas con este complemento.</p>
<p>Si se planea usar esta base de datos con una aplicación PHP, phpMyAdmin, por ejemplo, es posible que desee crear un usuario remoto que se autentique con el <code>mysql_native_password</code> complemento más antiguo, aunque aún seguro, en su lugar:</p>
<p><div class="highlight"><pre><span></span><code>CREATE<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span>@<span class="s1">&#39;remote_server_ip&#39;</span><span class="w"> </span>IDENTIFIED<span class="w"> </span>WITH<span class="w"> </span>mysql_native_password<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;password&#39;</span><span class="p">;</span>
</code></pre></div>
Si no está seguro, siempre puede crear un usuario que se autentique con <code>caching_sha2_plugin</code> y luego ALTERmás tarde con este comando:</p>
<div class="highlight"><pre><span></span><code>ALTER<span class="w"> </span>USER<span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span>@<span class="s1">&#39;remote_server_ip&#39;</span><span class="w"> </span>IDENTIFIED<span class="w"> </span>WITH<span class="w"> </span>mysql_native_password<span class="w"> </span>BY<span class="w"> </span><span class="s1">&#39;password&#39;</span><span class="p">;</span>
</code></pre></div>
</div>
<h3 id="paso-4-conceder-permisos-a-un-usuario">Paso 4: Conceder permisos a un usuario</h3>
<p>se puede conceder varios privilegios y restricciones al nuevo usuario creado con el fin de garantizar la seguridad de sus acciones. . El siguiente ejemplo se concede a un usuario privilegios globales a <code>CREATE</code>, <code>ALTER</code> y <code>DROP</code> bases de datos, tablas y usuarios, así como el poder de <code>INSERT</code>, <code>UPDATE</code> y <code>DELETE</code> datos de cualquier tabla en el servidor. También le otorga al usuario la capacidad de consultar datos <code>SELECT</code>, crear claves externas con la <code>REFERENCES</code> palabra clave y realizar <code>FLUSH</code> operaciones con el <code>RELOAD</code> privilegio.</p>
<p>Este comando aplica para conectarse de forma remota para una ip específica</p>
<div class="highlight"><pre><span></span><code>GRANT<span class="w"> </span>CREATE,<span class="w"> </span>ALTER,<span class="w"> </span>DROP,<span class="w"> </span>INSERT,<span class="w"> </span>UPDATE,<span class="w"> </span>DELETE,<span class="w"> </span>SELECT,<span class="w"> </span>REFERENCES,<span class="w"> </span>RELOAD<span class="w"> </span>on<span class="w"> </span>*.*<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;nombre_usuario&#39;</span>@<span class="s1">&#39;remote_server_ip&#39;</span><span class="w"> </span>WITH<span class="w"> </span>GRANT<span class="w"> </span>OPTION<span class="p">;</span>
</code></pre></div>
<p>tambien se puede conceder permisos de esta otra forma (para este ejemplo se lo aplicaremos al usuario remote), </p>
<p>este comando aplica para conectarse desde cualquier IP que intente establcer conexión de forma remota.</p>
<div class="highlight"><pre><span></span><code>GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>*.*<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;remote&#39;</span>@<span class="s1">&#39;%&#39;</span><span class="w"> </span>WITH<span class="w"> </span>GRANT<span class="w"> </span>OPTION<span class="p">;</span>
</code></pre></div>
<p>Después de esto, es una buena práctica ejecutar el <code>FLUSH PRIVILEGES</code> comando. Esto liberará cualquier memoria que el servidor haya almacenado en caché como resultado de las declaraciones <code>CREATE USER</code> y anteriores <code>GRANT</code>:</p>
<div class="highlight"><pre><span></span><code>FLUSH<span class="w"> </span>PRIVILEGES<span class="p">;</span>
</code></pre></div>
<p>Luego salimos del cliente de MySQL</p>
<p><div class="highlight"><pre><span></span><code>exit<span class="p">;</span>
</code></pre></div>
Por último, suponiendo que haya configurado un firewall en su servidor de base de datos, también deberá abrir el puerto 3306, el puerto predeterminado de MySQL, para permitir el tráfico a MySQL.</p>
<p>Se puede ejecutar el siguiente comando para acceder de forma remota a la base de datos.</p>
<div class="highlight"><pre><span></span><code>mysql<span class="w"> </span>-u<span class="w"> </span>user<span class="w"> </span>-h<span class="w"> </span>database_server_ip<span class="w"> </span>-p
</code></pre></div>
<h2 id="instalar-servidor-web-nginx">INSTALAR SERVIDOR WEB NGINX</h2>
<h3 id="requisito-previos_1">Requisito previos</h3>
<p>Para la instalación del servidor de web se nesesitará lo siguiente:</p>
<ul>
<li>Un servidor Ubuntu 18.04/20.04 configurado siguiendo esta guía de <a href="http://localhost:8000">configuración inicial para servidores ubuntu 18.04/20.04</a>, incluyendo un usuario <code>no root</code> con privilegios de <code>sudo</code>.</li>
</ul>
<h3 id="paso-1-instalar-nginx">Paso 1: Instalar NGINX</h3>
<p>Nginx ya se encuentra en los repositorio predeterminado de ubuntu podemos ejecutar el siguiente comando para instalarlo</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
</code></pre></div>
luego ejecutamos el siguiente programa para instalarlo.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>nginx
</code></pre></div>
<p>Tras aceptar el procedimiento, apt instalará Nginx y cualquier dependencia necesaria en su servidor.</p>
<h3 id="paso-2-aplicar-ajuste-de-firewall">Paso 2: Aplicar ajuste de firewall</h3>
<p>Se debe de aplicar unos ajustes al software de <strong>firewall</strong> para permitir acceso a nginx, enumeremos las configuraciones de firewall ejecutando el siguiente comando</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>app<span class="w"> </span>list
</code></pre></div>
<p>La salida debe ser similar a la siguiente.</p>
<div class="highlight"><pre><span></span><code><span class="go">Available applications:</span>
<span class="go">  Nginx Full</span>
<span class="go">  Nginx HTTP</span>
<span class="go">  Nginx HTTPS</span>
<span class="go">  OpenSSH</span>
</code></pre></div>
<p>Como se muestra en el resultado, hay tres perfiles disponibles para Nginx:</p>
<ul>
<li>Nginx Full: este perfil abre el puerto <strong>80</strong> (tráfico web normal, no cifrado) y el puerto <strong>443</strong> (tráfico TLS/SSL cifrado)</li>
<li>Nginx HTTP: este perfil abre solo el puerto <strong>80</strong> (tráfico web normal, no cifrado)</li>
<li>Nginx HTTPS: este perfil abre solo el puerto <strong>443</strong> (tráfico TLS/SSL cifrado)</li>
</ul>
<p>Para habilitar un perfil se debe de escribir el siguiente comando.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="s1">&#39;Nginx HTTP&#39;</span>
</code></pre></div>
<p>Verificamos si la regla esta creada</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</code></pre></div>
<p>La salida debe ser como la siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="go">Status: active</span>

<span class="go">To                         Action      From</span>
<span class="go">--                         ------      ----</span>
<span class="go">OpenSSH                    ALLOW       Anywhere                  </span>
<span class="go">Nginx HTTP                 ALLOW       Anywhere                  </span>
<span class="go">OpenSSH (v6)               ALLOW       Anywhere (v6)             </span>
<span class="go">Nginx HTTP (v6)            ALLOW       Anywhere (v6)</span>
</code></pre></div>
<h3 id="paso-3-comprobar-el-servidor-web">Paso 3: Comprobar el servidor web</h3>
<p>Realice una verificación con systemd init para asegurarse de que el servicio esté en ejecución escribiendo lo siguiente:</p>
<div class="highlight"><pre><span></span><code>systemctl<span class="w"> </span>status<span class="w"> </span>nginx
</code></pre></div>
<p>La salida debe ser similar a la siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="go">nginx.service - A high performance web server and a reverse proxy server</span>
<span class="go">   Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)</span>
<span class="go">   Active: active (running) since Fri 2020-04-20 16:08:19 UTC; 3 days ago</span>
<span class="go">     Docs: man:nginx(8)</span>
<span class="go"> Main PID: 2369 (nginx)</span>
<span class="go">    Tasks: 2 (limit: 1153)</span>
<span class="go">   Memory: 3.5M</span>
<span class="go">   CGroup: /system.slice/nginx.service</span>
<span class="go">           ├─2369 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;</span>
<span class="go">           └─2380 nginx: worker process</span>
</code></pre></div>
<p>Si todo se ha ejecutado con exito podemos probar nuestro servidor web en el navegador, escribiendo lo siguiente:</p>
<blockquote>
<p>http://su_servidor_ip</p>
</blockquote>
<p>si aparece un mensaje de <strong>Welcome to nginx!</strong> significa que el servidor web esta instalado correctamente.</p>
<h3 id="paso-4-configurar-bloques-de-servidores">Paso 4: Configurar bloques de servidores</h3>
<p>Utilizaremos bloques de servidor (similares a host virtuales de Apache). para encapsular los detalles de la configuración y alojar más de un dominio desde un único servidor. Configuraremos un dominio llamado <code>aps.tkontrol.com</code>.</p>
<p>el proyecto web está en la siguiente dirección:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/var/www/html
</code></pre></div>
<p>Una vez estando dentro de ese directorio descargamos la aplicación web de <code>APS TKONTROL MONITOREO</code> que esta en el repositorio de GitHub, su directorio se llama <code>dist</code> y la ruta absoluta que vamos a ocupar para apuntar en el servidor web es la siguiente:</p>
<blockquote>
<p>/var/www/html/dist</p>
</blockquote>
<p>Vamos a crear unos bloques de servidores para el funcionamiento correcto de la aplicaciones que se desplegan en la plataforma <code>https://aps.tkontrol.com</code>, abriremos el archivo <code>deafult</code> y lo modificaremos, utilizamos el siguiente comando.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/nginx/sites-available/default
</code></pre></div>
<p>El siguiente bloque de configuración, es un ejemplo básico de la estructura que debe de tener.</p>
<div class="highlight"><pre><span></span><code><span class="go">server {</span>
<span class="go">        listen 80;</span>
<span class="go">        listen [::]:80;</span>

<span class="go">        root /var/www/html/dist;</span>
<span class="go">        index index.html index.htm index.nginx-debian.html index.php;</span>

<span class="go">        server_name aps.tkontrol.com;</span>

<span class="go">        location / {</span>
<span class="go">                try_files $uri $uri/ =404;</span>
<span class="go">        }</span>
<span class="go">}</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Importante</p>
<p>La salida anterior es un ejemplo default que trae el bloque de servidor, los bloques de servidores modificados se encuentran mas adelante detallado correctamente.</p>
</div>
<p>Si no hay problemas, reinicie Nginx para habilitar los cambios:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
</code></pre></div>
<p>verificamos que cargue la aplicación el servidor web NGINX digitando la siguiente url en el navegador.</p>
<blockquote>
<p>http://aps.tkontrol.com</p>
</blockquote>
<h3 id="paso-5-familiarizarse-con-archivos-y-directorios-importantes">paso 5: Familiarizarse con archivos y directorios importantes</h3>
<p>Ahora que sabe administrar el propio servicio de Nginx, debería tomarse unos minutos para familiarizarse con algunos directorios y archivos importantes.</p>
<p><strong>Descripción de atributos</strong></p>
<ul>
<li><code>listen</code>: el puerto que abrirá para las conexiones</li>
<li><code>root</code>: directorio del proyecto, se debe de utilizar rutas absolutas para hacer esta referencia</li>
<li><code>server_name</code>: en este atributo va el nombre del dominio en nuestro caso tenemos el dominio aps.tkontrol.com</li>
<li><code>location</code>: se ocupara para realizar proxy inversos</li>
</ul>
<p><strong>Contenido</strong></p>
<ul>
<li><code>/var/www/html</code>: el contenido web real, que por defecto solo consta de la página predeterminada de Nginx que vio antes, se presenta desde el directorio /var/www/html. Esto se puede cambiar modificando los archivos de configuración de Nginx.</li>
</ul>
<p><strong>Configuración del servidor</strong></p>
<ul>
<li><code>/etc/nginx</code>: directorio de configuración de Nginx. En él se encuentran todos los archivos de configuración de Nginx.</li>
<li><code>/etc/nginx/nginx.conf</code>: archivo de configuración principal de Nginx. Esto se puede modificar para realizar cambios en la configuración general de Nginx.</li>
<li><code>/etc/nginx/sites-available/</code>: directorio en el que se pueden guardar bloques de servidor por sitio. Nginx no utilizará los archivos de configuración de este directorio a menos que estén vinculados al directorio sites-enabled. Normalmente, toda la configuración del bloque de servidor se realiza en este directorio y luego se habilita estableciendo un vínculo con el otro directorio.</li>
<li><code>/etc/nginx/sites-enabled/</code>: directorio en el que se almacenan los bloques de servidor habilitados por sitio. Normalmente, estos se crean estableciendo vínculos con los archivos de configuración del directorio sites-available.</li>
<li><code>/etc/nginx/snippets</code>: este directorio contiene fragmentos de configuración que pueden incluirse en otras partes de la configuración de Nginx. Los segmentos de configuración potencialmente repetibles reúnen las condiciones para la conversión a fragmentos.</li>
</ul>
<p><strong>Registros del servidor</strong></p>
<ul>
<li><code>/var/log/nginx/access.log</code>: cada solicitud a su servidor web se registra en este archivo de registro, a menos que Nginx esté configurado para hacer algo diferente.</li>
</ul>
<h3 id="paso-6-archivos-de-configuracion-de-nginx">Paso 6: Archivos de configuración de nginx</h3>
<p>A continuación se detallan los archivos de configuración implementado en los servidores de APS TKONTROL</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="http://localhost:8000">Archivos de configuración nginx</a> </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>El archivo de configuración mostrado anteriormente ya tiene los certificados de <strong>Let's Encrypt</strong> instalados en el servidor web, para saber como se configuró eso, hay que seguir el siguiente tutorial de instalación de certificados SSL Let's Encrypt con certbot.</p>
</div>
<h3 id="version-nginx">Versión nginx</h3>
<div class="admonition info">
<p class="admonition-title">Versión servidor #1</p>
<p>La versión de Servidor de web instalado en el Droplets (Servidor #1) es la <strong>1.18.0</strong> </p>
</div>
<div class="admonition info">
<p class="admonition-title">Versión servidor #2</p>
<p>La versión de Servidor de web instalado en el Droplets (Servidor #2) es la <strong>1.18.0</strong> </p>
</div>
<h2 id="instalar-certificados-ssl">INSTALAR CERTIFICADOS SSL</h2>
<p>Se usará Cerbot para obtener un certificado SSL gratuito que se podrá usar en nginx y ser renovado automaticamente cuando se termine el periodo de cada certificado instalado.</p>
<p>Se usará archivos de bloques separados en nginx, para su configuración de los certificados SSL.</p>
<h3 id="requisitos-previos_1">Requisitos previos</h3>
<ul>
<li>Un servidor Ubuntu 18.04/20.04 configurado siguiendo esta guía de <a href="http://localhost:8000">configuración inicial para servidores ubuntu 18.04/20.04</a>, incluyendo un usuario <code>no root</code> con privilegios de <code>sudo</code>.</li>
<li>Un nombre de dominio registrado y funcional. en nuestro caso utilizaremos aps.tkontrol.com, que fue comprado en <strong>GoDaddy</strong></li>
<li>La configuración de los siguientes dos registros DNS para el servidor. Se puede seguir la <strong>configuración de registro DNS</strong> en  <a href="http://locahost:8000">Agregar un registro A en un dominio</a> para obtener detalles y el proceso para adicionarlos:<ul>
<li><strong>Un registro A</strong> con aps.tkontrol.com apuntando a la dirección IP pública del servidor.</li>
<li><strong>Un registro A</strong> con www.aps.tkontrol.com apuntando a la dirección IP pública del servidor.</li>
</ul>
</li>
<li>Nginx instalado, se debe asegurar de tener un bloque de servidor para el dominio, sino se ha configurado uno se puede guiar de la siguiente documentación: <a href="http://localhost:8000">instalar servidor web NGINX</a>.</li>
</ul>
<h3 id="paso-1-instalar-cerbot">Paso 1: Instalar cerbot</h3>
<p>El primer paso será obtener el certificado SSL mediante Let's Encrypt para ello vamos a ocupar cerbot.</p>
<p>Añadimos cerbot al repositorio.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>add-apt-repository<span class="w"> </span>ppa:certbot/certbot
</code></pre></div>
<p>Necesitarás presionar Enter para aceptar. Luego, se actualiza la lista de paquetes para recolectar la información de los paquetes del nuevo repositorio, ahora ejecutamos el siguiente comando para actualizar los paquetes:</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
</code></pre></div>
Ahora instalamos el cerbot-nginx</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>python-certbot-nginx
</code></pre></div>
<h3 id="paso-2-confirmar-la-configuracion-de-nginx">Paso 2: Confirmar la configuración de nginx</h3>
<p>Certbot necesita estar habilitado para encontrar el bloque de <code>server</code> en tu configuración de Nginx, de tal manera que que pueda configurar el SSL de forma automática. Específicamente, lo hace mediante la búsqueda de la directiva <code>server_name</code> que contiene el dominio del cual solicitaste el certificado.</p>
<p>Para verificar, se procederá abrir el bloque de servidor utilizando el editor <code>nano</code> u otro editor de texto.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/nginx/sites-available/default
</code></pre></div>
<p>Buscar la línea: <code>server_name</code>, que debería verse similar a la siguiente salida:</p>
<div class="highlight"><pre><span></span><code>...
<span class="hll">server_name<span class="w"> </span>aps.tkontrol.com<span class="p">;</span>
</span>...
</code></pre></div>
<p>Si la línea concuerda con lo anterior, guardar los cambios (Ctrl + c), salir del archivo(Crtl + x) y continúa con el siguiente paso.</p>
<p>Ejecutar el siguiente comando para verificar que el archivo de configuración no tenga ningun errror</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nginx<span class="w"> </span>-t
</code></pre></div>
<p>si se deplega algun error, volver abrir el archivo y solucionar el error. Luego ejecutamos el siguiente comando para reinicar el servidor web</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>nginx
</code></pre></div>
<p>Certbot podrá ahora encontrar el bloque de servidor correcto y podrá actualizarlo. A continuación, actualizaremos el cortafuegos para permitir el tráfico HTTPS.</p>
<h3 id="paso-3-permitir-https-a-traves-de-cortafuegos">Paso 3: Permitir HTTPS a través de cortafuegos</h3>
<p>Vamos habilitar las el tráfico <code>https</code> en nginx utilizando el cortafuego <code>UFW</code>. revisemos el ajuste que tiene, utilizando el siguiente comando.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</code></pre></div>
<p>Si solo sale información con tráfico <code>HTTP</code> quiere decir que solo hay conexiones con ese tipo de tráfico.</p>
<div class="highlight"><pre><span></span><code><span class="go">Status: active</span>

<span class="go">To                         Action      From</span>
<span class="go">--                         ------      ----</span>
<span class="go">OpenSSH                    ALLOW       Anywhere                  </span>
<span class="go">Nginx HTTP                 ALLOW       Anywhere                  </span>
<span class="go">OpenSSH (v6)               ALLOW       Anywhere (v6)             </span>
<span class="go">Nginx HTTP (v6)            ALLOW       Anywhere (v6)</span>
</code></pre></div>
<p>Para permitir adicionalmente, el tráfico HTTPS, se debe habilitar el perfil completo de Nginx y borrar los perfiles redundantes, ejecute el siguiente comando:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="s1">&#39;Nginx Full&#39;</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>delete<span class="w"> </span>allow<span class="w"> </span><span class="s1">&#39;Nginx HTTP&#39;</span>
</code></pre></div>
Verificamos que se haya aplicado los cambios con los comandos ejecutados anteriormente</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</code></pre></div>
La Salida debe de mostrarse similar a la siguiente.</p>
<div class="highlight"><pre><span></span><code><span class="go">Status: active</span>

<span class="go">To                         Action      From</span>
<span class="go">--                         ------      ----</span>
<span class="go">OpenSSH                    ALLOW       Anywhere</span>
<span class="go">Nginx Full                 ALLOW       Anywhere</span>
<span class="go">OpenSSH (v6)               ALLOW       Anywhere (v6)</span>
<span class="go">Nginx Full (v6)            ALLOW       Anywhere (v6)</span>
</code></pre></div>
<h3 id="paso-4-obtener-certificado-ssl">Paso 4: Obtener certificado SSL</h3>
<p>Para obtener el certificado SSL vamos a ocupar cerbot el cual provee de varias maneras de obtener los certificados, vamos a usar el conector de nginx que se encargara de construirlo, ejecute el siguiente comando </p>
<div class="admonition warning">
<p class="admonition-title">Atención</p>
<p>Se debe de tener ya el dominio configurado en nginx y con un registro A apuntando al sevidor para que este paso funcione.</p>
</div>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>certbot<span class="w"> </span>--nginx<span class="w"> </span>-d<span class="w"> </span>aps.tkontrol.com<span class="w"> </span>-d<span class="w"> </span>www.aps.tkontrol.com
</code></pre></div>
<p>Esto ejecuta certbot con el conector <code>--nginx</code>, usando <code>-d</code> para especificar los nombres sobre los cuales queremos que el certificado sea válido.</p>
<p>Si ésta es la primera vez que se ejecuta <code>certbot</code>, se te solicitará que ingrese <strong><code>una dirección de correo electrónico</code></strong> y que acepte los términos de servicio. Al hacerlo, certbot se comunicará con el servidor Let’s Encrypt, para intentar verificar que usted controla el dominio para el cual se está solicitando el certificado.</p>
<p>En caso de éxito, certbot preguntará cómo configurar los ajustes para HTTPS:</p>
<div class="highlight"><pre><span></span><code>Please<span class="w"> </span>choose<span class="w"> </span>whether<span class="w"> </span>or<span class="w"> </span>not<span class="w"> </span>to<span class="w"> </span>redirect<span class="w"> </span>HTTP<span class="w"> </span>traffic<span class="w"> </span>to<span class="w"> </span>HTTPS,<span class="w"> </span>removing<span class="w"> </span>HTTP<span class="w"> </span>access.
-------------------------------------------------------------------------------
<span class="m">1</span>:<span class="w"> </span>No<span class="w"> </span>redirect<span class="w"> </span>-<span class="w"> </span>Make<span class="w"> </span>no<span class="w"> </span>further<span class="w"> </span>changes<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>webserver<span class="w"> </span>configuration.
<span class="m">2</span>:<span class="w"> </span>Redirect<span class="w"> </span>-<span class="w"> </span>Make<span class="w"> </span>all<span class="w"> </span>requests<span class="w"> </span>redirect<span class="w"> </span>to<span class="w"> </span>secure<span class="w"> </span>HTTPS<span class="w"> </span>access.<span class="w"> </span>Choose<span class="w"> </span>this<span class="w"> </span><span class="k">for</span>
new<span class="w"> </span>sites,<span class="w"> </span>or<span class="w"> </span><span class="k">if</span><span class="w"> </span>you<span class="s1">&#39;re confident your site works on HTTPS. You can undo this</span>
<span class="s1">change by editing your web server&#39;</span>s<span class="w"> </span>configuration.
-------------------------------------------------------------------------------
Select<span class="w"> </span>the<span class="w"> </span>appropriate<span class="w"> </span>number<span class="w"> </span><span class="o">[</span><span class="m">1</span>-2<span class="o">]</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="o">[</span>enter<span class="o">]</span><span class="w"> </span><span class="o">(</span>press<span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="w"> </span>to<span class="w"> </span>cancel<span class="o">)</span>:
</code></pre></div>
<p>El mensaje anterior permitirá escoger entre redireccionar o no el tráfico de HTTP a HTTPS, limitando el acceso HTTP; seleccionamos la segunda opcion escribiendo <strong><code>2</code></strong> y luego damos <code>ENTER</code>.</p>
<p>La configuración será actualizada, y <code>nginx</code> se recargará para activar los nuevos ajustes. certbot concluirá con un mensaje informando que el proceso fue exitoso y la localización de tus certificados</p>
<p>La Salida debe ser similar a la siguiente:</p>
<div class="highlight"><pre><span></span><code><span class="go">IMPORTANT NOTES:</span>
<span class="go"> - Congratulations! Your certificate and chain have been saved at:</span>
<span class="go">   /etc/letsencrypt/live/aps.tkontrol.com/fullchain.pem</span>
<span class="go">   Your key file has been saved at:</span>
<span class="go">   /etc/letsencrypt/live/aps.tkontrol.com.com/privkey.pem</span>
<span class="go">   Your cert will expire on 2022-07-23. To obtain a new or tweaked</span>
<span class="go">   version of this certificate in the future, simply run certbot again</span>
<span class="go">   with the &quot;certonly&quot; option. To non-interactively renew *all* of</span>
<span class="go">   your certificates, run &quot;certbot renew&quot;</span>
<span class="go"> - Your account credentials have been saved in your Certbot</span>
<span class="go">   configuration directory at /etc/letsencrypt. You should make a</span>
<span class="go">   secure backup of this folder now. This configuration directory will</span>
<span class="go">   also contain certificates and private keys obtained by Certbot so</span>
<span class="go">   making regular backups of this folder is ideal.</span>
<span class="go"> - If you like Certbot, please consider supporting our work by:</span>

<span class="go">   Donating to ISRG / Let&#39;s Encrypt:   https://letsencrypt.org/donate</span>
<span class="go">   Donating to EFF:                    https://eff.org/donate-le</span>
</code></pre></div>
<p>Para este punto los certificados ya deberian de estar instalados y cargados, se puede probar utilizando cualquier navegador de su preferencia y escribiendo <code>https://</code> antes de su dominio. el archivos de configuración completo en nginx implementado en aps.tkontrol.com se detalla a continuación</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/nginx/sites-available/default
</code></pre></div>
<p>tambien puede ver los archivos de configuracion en: <a href="http://localhost:8000">Archivos de configuración de NGINX</a></p>
<h3 id="paso-5-renovacion-automatica-con-cerbot">Paso 5: Renovación automática con Cerbot</h3>
<p>Los certificados de <code>Let’s Encrypt</code> son válidos por noventa días únicamente. Esto se hace con el fin de incentivar a los usuarios para que automaticen el proceso de renovación de certificados. El paquete certbot que instalamos ya se ha ocupado de adicionar un archivo de comandos de renovación en <code>/etc/cron.d</code>. Este archivo de comandos se ejecuta dos veces al día y renovará automáticamente los certificados que presenten una fecha de expiración dentro de los siguientes treinta días.</p>
<p>Para probar el proceso de renovación, puedes hacer un ensayo mediante <code>certbot</code>:</p>
<p><div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>certbot<span class="w"> </span>renew<span class="w"> </span>--dry-run
</code></pre></div>
Si no se despliegan errores, el proceso se encuentra funcional. De ser necesario, Certbot renovará tus certificados y recargará Nginx para activar los cambios. Si el proceso automático de renovación alguna vez fallase, Let’s Encrypt enviará un mensaje al correo electrónico que especificaste, alertando que tu certificado se encuentra próximo a expirar.</p>
<h2 id="configuracion-de-registros-dns">CONFIGURACIÓN DE REGISTROS DNS</h2>
<h3 id="agregar-un-registro-a-en-un-dominio">Agregar un registro A en un dominio</h3>
<p>Los registros A o de dirección (también denominados registros de host) asocian un dominio a una dirección IP</p>
<p>Los siguientes pasos son importante para añadir los registros DNS a digitalOcean</p>
<ol>
<li>Iniciamos sesión en <a href="https://digitalocean.com">DigitalOcean.com</a></li>
<li>Selecionamos el proyecto al cual se le quiere añadir el registro DNS, en nuestro caso eligiremos el proyecto <code>Server</code>, debemos de tener una ventana similar a la siguiente.
<img alt="image info" src="../img/digital_1.PNG" /></li>
<li>Sino se tiene un dominio, se puede agregar dando click en los 3 puntos que aparece en la parte derecha del Droplets y click en <code>Add domain</code>.</li>
<li>una vez creado, seleccionamos el dominio agregado, seleccionamos el registro A y llenamos los siguientes parametros.<ul>
<li><strong>HOSTNAME</strong>: nombre del host que vamos a registrar en la plataforma en nuestro caso será <code>aps.tkontrol.com</code>.</li>
<li><strong>WILL DIRECT TO</strong>: este será el proyecto al cual va apuntar el registro DNS en nuestro caso será el servidor con el nombre <code>nodejs-s-2vcpu-4gb-sfo2-01</code>.</li>
<li><strong>TTL</strong>: tiempo, se dejara por defecto el que marca la plataforma.
<img alt="image info" src="../img/digital_2.PNG" /></li>
</ul>
</li>
<li>una vez llenado los campos se da click en <code>create record</code>. debe quedar registrado de la siguiente manera.
<img alt="image info" src="../img/digital_3.png" /></li>
</ol>
<h2 id="configurar-servidor-ftp-vsftpd">CONFIGURAR SERVIDOR FTP (VSFTPD)</h2>
<h3 id="requisito-previos_2">Requisito previos</h3>
<p>Para la instalación del servidor de web se nesesitará lo siguiente:</p>
<ul>
<li>
<p>Un servidor Ubuntu 18.04/20.04 configurado siguiendo esta guía de <a href="http://localhost:8000">configuración inicial para servidores ubuntu 18.04/20.04</a>, incluyendo un usuario <code>no root</code> con privilegios de <code>sudo</code>.</p>
</li>
<li>
<p>Un cliente FTP para poder acceder de forma remota a VSFTPD cuando ya se haya instalado</p>
</li>
</ul>
<h3 id="paso-1-instalacion">Paso 1: instalación</h3>
<p>se ejecutará el siguiente comando para actualizar paquetes del sistema</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update
</code></pre></div>
<p>Luego de actualizar los paquetes, instalamos el demonio VSTPD</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>vsftpd
</code></pre></div>
<p>Una vez completado la instalación se realizará un respaldo del archivo de configuración original ya que que este archivo se verá modificado por el usuario para tener accesos remoto y en caso que falle se tendrá el respaldo.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>cp<span class="w"> </span>/etc/vsftpd.conf<span class="w"> </span>/etc/vsftpd.conf.orig
</code></pre></div>
<p>con el comando anterior nos quedará la información de la siguiente manera</p>
<p><img alt="image info" src="../img/vsftpd_1.PNG" /></p>
<h3 id="paso-2-abrir-cortafuegos">Paso 2: Abrir cortafuegos</h3>
<div class="admonition danger">
<p class="admonition-title">Atención</p>
<p>Primero verificar el estado del cortafuego UFW, si esta inabilitado bloqueara las conexiones externas, ejecute el siguiente comando para habilitar el cortafuego</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span><span class="nb">enable</span>
</code></pre></div>
</div>
<p>Verificamos el estado de UFW</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</code></pre></div>
<p>Esta salida revela que el firewall está activo y solo se permite SSH a través de:</p>
<div class="highlight"><pre><span></span><code><span class="go">Output</span>
<span class="go">Status: active</span>

<span class="go">To                         Action      From</span>
<span class="go">--                         ------      ----</span>
<span class="go">OpenSSH                    ALLOW       Anywhere</span>
<span class="go">OpenSSH (v6)               ALLOW       Anywhere (v6)</span>
</code></pre></div>
<p>Ahora agregaremos reglas para tráfico FTP, ejecutando el siguiente comando</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">20</span>,21,990/tcp
</code></pre></div>
<p>A continuación, abra los puertos 40000-50000para el rango de puertos pasivos que configurará en el archivo de configuración:</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>allow<span class="w"> </span><span class="m">40000</span>:50000/tcp
</code></pre></div>
<p>Verificamos el estado del cortafuego.</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>ufw<span class="w"> </span>status
</code></pre></div>
<p>El resultado debe ser similar a la siguiente pantalla</p>
<div class="highlight"><pre><span></span><code><span class="go">Output</span>
<span class="go">Status: active</span>

<span class="go">To                         Action      From</span>
<span class="go">--                         ------      ----</span>
<span class="go">OpenSSH                    ALLOW       Anywhere</span>
<span class="go">20,21,990/tcp              ALLOW       Anywhere</span>
<span class="go">40000:50000/tcp            ALLOW       Anywhere</span>
<span class="go">OpenSSH (v6)               ALLOW       Anywhere (v6)</span>
<span class="go">20,21,990/tcp (v6)         ALLOW       Anywhere (v6)</span>
<span class="go">40000:50000/tcp (v6)       ALLOW       Anywhere (v6)</span>
</code></pre></div>
<h3 id="paso-3-crear-usuario">Paso 3: Crear usuario</h3>
<p>Se creará un usuario FTP dedicado, se debe de ejecutar el siguiente comando (el usuario mostrado es uno real que se ocupa actualmente en los equipos de transmisión de datos de Syrus en su configuración interna).</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>adduser<span class="w"> </span>tkontrol
</code></pre></div>
<p>Le solicitará una contraseña, la cual se digitará la siguiente: <code>Tkontrol10</code>.</p>
<h3 id="paso-4-restringir-directorio-a-usuario">Paso 4: Restringir directorio a usuario</h3>
<p>Le asignaremos un directorio al nuevo usuario creado para que tenga acceso ahi y pueda subir y descargar archivos.</p>
<p>Creamos la carpeta</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mkdir<span class="w"> </span>/home/sammy/ftp
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
    
  </body>
</html>